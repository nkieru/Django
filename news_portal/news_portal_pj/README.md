## Проект News Portal

 Приложение новостного портала News Portal, 
 на котором можно просматривать новости и читать статьи.
 Каждая статья/новость может относиться к одной или нескольким категориям. 
 Зарегистрированные пользователи сами смогут писать статьи/новости
 на новостной портал.
 
## Выполненные задания:
### ***1.*** Модели
Создать приложение, в котором должны быть модели:
#### Модель Author
Модель, содержащая объекты всех авторов.
Имеет следующие **поля**:
+ cвязь с встроенной моделью пользователей User;
+ рейтинг пользователя.
#### Модель Category
Категории новостей/статей — темы, которые они отражают. 
**Поле**: 
+ название категории. Поле должно быть уникальным.
#### Модель Post
Эта модель должна содержать в себе статьи и новости, которые создают пользователи. 
Каждый объект может иметь одну или несколько категорий.
Соответственно, модель должна включать следующие **поля**:
+ связь с моделью Author;
+ поле с выбором — «статья» или «новость»;
+ автоматически добавляемая дата и время создания;
+ связь с моделью Category 
(с дополнительной моделью PostCategory);
+ заголовок статьи/новости;
+ текст статьи/новости;
+ рейтинг статьи/новости.
#### Модель Post_Category
Промежуточная модель для связи «многие ко многим»:
+ связь с моделью Post;
+ связь с моделью Category.
#### Модель Comment
Под каждой новостью/статьёй можно оставлять комментарии.
**Поля**:
+ связь с моделью Post;
+ связь «один ко многим» со встроенной моделью User 
(комментарии может оставить любой пользователь, необязательно автор);
+ текст комментария;
+ дата и время создания комментария;
+ рейтинг комментария.


Эти модели также реализуют методы:

Методы **like_post()** , **dislike_post()** , **like_comment()**, **dislike_comment()** в моделях Post и Comment, 
которые увеличивают/уменьшают рейтинг на единицу. 

Метод **preview()** модели Post, 
который возвращает начало статьи (предварительный просмотр) 
длиной 124 символа и добавляет многоточие в конце.

Метод **update_rating()**
модели Author, который обновляет рейтинг текущего автора.
Он состоит из следующего:
суммарный рейтинг каждой статьи автора умножается на 3;
суммарный рейтинг всех комментариев автора;
суммарный рейтинг всех комментариев к статьям автора.

### ***2.*** Представления и шаблоны
Создать новую страницу с адресом */news/*, на которой должен выводиться 
список всех новостей. 

Вывести все статьи в виде заголовка, даты публикации и первых 20 символов текста.
Новости должны выводиться в порядке от более свежей к самой старой. 

Сделать отдельную страницу для полной информации о статье */news/<id новости>*.
На этой странице должна быть вся информация о статье. Название, текст и дата загрузки 
в формате день.месяц.год.

Написать собственный фильтр **censor**, который заменяет буквы нежелательных слов 
в заголовках и текстах статей на символ «*».

Все новые страницы должны использовать шаблон *default.html* как основу.

### ***3.*** Фильтры и формы
Добавить постраничный вывод на */news/*, 
чтобы на одной странице было не больше 10 новостей 
и были видны номера лишь ближайших страниц, а также возможность перехода 
к первой или последней странице.

Добавить страницу */news/search*. 
На ней должна быть реализована возможность искать новости по определённым критериям. 
Критерии должны быть следующие:

- по названию
- по имени автора
- позже указываемой даты

Убедитесь, что можно выполнить фильтрацию сразу по нескольким критериям.

Запрограммируйте страницы создания, редактирования и удаления новостей и статей.

###  ***4.*** Авторизация и регистрация
Выполнить необходимые настройки пакета allauth в файле конфигурации.
Реализовать шаблон с формой входа в систему и выполнить настройку конфигурации URL. 

Реализовать шаблон страницы регистрации пользователей.
Реализовать возможность регистрации через Google-аккаунт. 

Создать группы *common* и *authors*.
Реализовать автоматическое добавление новых пользователей в группу *common*.
Создать возможность стать автором (быть добавленным в группу *authors*). 

В классах-представлениях добавления и редактирования новостей и статей 
добавить проверку прав доступа.

### ***5.*** Работа с почтой и выполнение задач по расписанию
В категории должна быть возможность пользователей подписываться на рассылку новых статей в этой категории. 

Если пользователь подписан на какую-либо категорию, то, как только в неё добавляется новая статья, 
её краткое содержание приходит пользователю на электронную почту, которую он указал при регистрации. 

В письме обязательно должна быть гиперссылка на саму статью, чтобы он мог по клику перейти и прочитать её.
Если пользователь подписан на какую-либо категорию, то каждую неделю ему приходит на почту 
список новых статей, появившийся за неделю с гиперссылкой на них, чтобы пользователь мог перейти 
и прочесть любую из статей. 

Добавить приветственное письмо пользователю при регистрации в приложении.

### ***6.*** Работа с асинхронными задачами через Celery
Установить Redis. 

Установить Celery. 

Произвести необходимые конфигурации Django для соединения всех компонентов системы. 

Реализовать рассылку уведомлений подписчикам после создания новости.
Реализовать еженедельную рассылку с последними новостями.

###  ***7.*** Кэширование
Добавить кэширование на страницы с новостями и на главную страницу. 

Кэшировать в шаблонах все навигационные элементы 
(меню, сайдбары и т. д.). 

Добавить кеширование для статей. 
Пока статья не изменилась, она должна сохраняться в кэше.

### ***8.*** Логирование
Настройки логирования должны выполнять следующее:

В консоль должны выводиться все сообщения уровня *DEBUG* и выше, 
включающие время, уровень сообщения, 
сообщения. 

Для сообщений *WARNING* и выше дополнительно должен выводиться
путь к источнику события. 
А для сообщений *ERROR* и *CRITICAL* еще должен выводить стэк ошибки. 
Сюда должны попадать все сообщения с основного логгера *django*. 

В файл *general.log* должны выводиться сообщения уровня *INFO* и выше только с указанием времени,
уровня логирования, модуля, в котором возникло сообщение и само сообщение. 
Сюда также попадают сообщения с регистратора django. 

В файл *errors.log* должны выводиться сообщения только уровня *ERROR* и *CRITICAL*. 
В сообщении указывается время, уровень логирования, само сообщение, 
путь к источнику сообщения и стэк ошибки. 
В этот файл должны попадать сообщения только из логгеров *django.request*, *django.server*,
*django.template*, *django.db.backends*. 

В файл *security.log* должны попадать только сообщения, связанные с безопасностью. Формат вывода предполагает время, 
уровень логирования, модуль и сообщение. 

На почту должны отправляться сообщения уровней *ERROR* и выше из *django.request* и *django.server*
по формату, как в *errors.log*, но без стэка ошибок.
С помощью фильтров нужно указать, 
что в консоль сообщения отправляются только при *DEBUG = True*, 
а на почту и в файл *general.log* — только при *DEBUG = False*.

### ***9.*** Локализация и интернационализация
Добавить ко всему статичному тексту в вашем приложением обёртку в функцию *gettext()*. 

Сделать файл перевода, записать перевод всех текстов. Скомпилировать файл перевода. 

Добавить переключение языка в шапке сайта, локализацию времени, 
возможность пользователю выбирать часовой пояс. 

В зависимости от времени пользователя должна отображаться тёмная или светлая тема оформления.
